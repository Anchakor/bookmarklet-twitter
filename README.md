# bookmarklet-twitter

[Bookmarklet to get an array of links to the tweets on any twitter page. Useful for getting links to your bookmarked tweets for further archiving.](javascript%3A%28function%28%29%7B%0A%20%20%2F%2A%0A%20%20%20%2A%20Bookmarklet%20to%20get%20an%20array%20of%20links%20to%20the%20tweets%20on%20any%20twitter%20page.%0A%20%20%20%2A%20Useful%20for%20getting%20links%20to%20your%20bookmarked%20tweets%20for%20further%20archiving.%0A%20%20%20%2A%20Author%3A%20Jiri%20Prochazka%0A%20%20%20%2A%20License%3A%20Apache-2.0%20https%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0.txt%0A%20%20%2A%2F%0A%20%20%0A%20%20let%20tweets%20%3D%20%5B%5D%3B%0A%20%20function%20addTweets%28newTweets%29%20%7B%0A%20%20%20%20%20%20tweets%20%3D%20%5B...new%20Set%28%5B...tweets%2C%20...newTweets%5D%29%5D%3B%0A%20%20%7D%0A%20%20%0A%20%20const%20button%20%3D%20document.createElement%28%27button%27%29%3B%0A%20%20button.innerText%20%3D%20%27Download%20tweets%27%3B%0A%20%20button.setAttribute%28%27title%27%2C%20%27Scroll%20to%20the%20bottom%20of%20the%20page%20to%20load%20all%20tweets.%27%29%3B%0A%20%20button.setAttribute%28%27style%27%2C%20%27position%3A%20fixed%3B%20top%3A%201em%3B%20left%3A%201em%3B%20z-index%3A%209990%3B%27%29%3B%0A%20%20button.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20resultModal%20%3D%20document.createElement%28%27textarea%27%29%3B%0A%20%20%20%20%20%20resultModal.setAttribute%28%27style%27%2C%20%27position%3A%20fixed%3B%20top%3A%200px%3B%20left%3A%200px%3B%20width%3A%2090%25%3B%20height%3A%2090%25%3B%20z-index%3A%209991%3B%27%0A%20%20%20%20%20%20%2B%27margin%3A%203em%205%25%3B%20background%3A%20white%3B%20color%3A%20black%3B%27%29%3B%0A%20%20%20%20%20%20resultModal.innerText%20%3D%20JSON.stringify%28tweets%29%3B%0A%20%20%20%20%20%20document.body.appendChild%28resultModal%29%3B%0A%20%20%7D%3B%0A%20%20document.body.appendChild%28button%29%3B%0A%20%20%0A%20%20function%20setButtonText%28numberOfFoundTweets%2C%20numberOfTotalTweets%29%20%7B%0A%20%20%20%20%20%20button.innerText%20%3D%20%27Download%20tweets%20%28%27%2BnumberOfFoundTweets%2B%27%2F%27%2BnumberOfTotalTweets%2B%27%29%27%3B%0A%20%20%7D%0A%20%20%0A%20%20function%20getTweetLink%28article%29%20%7B%0A%20%20%20%20%20%20let%20tweetLink%20%3D%20undefined%3B%0A%20%20%20%20%20%20const%20links%20%3D%20article.getElementsByTagName%28%27a%27%29%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20links.length%20%26%26%20%21tweetLink%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20link%20%3D%20links%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20timeTag%20%3D%20link.querySelector%28%27time%5Bdatetime%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28timeTag%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tweetLink%20%3D%20link.getAttribute%28%27href%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%27https%3A%2F%2Ftwitter.com%27%2BtweetLink%3B%0A%20%20%7D%0A%20%20%0A%20%20function%20getTweetLinks%28%29%20%7B%0A%20%20%20%20%20%20const%20tweetLinks%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20const%20articles%20%3D%20document.getElementsByTagName%28%27article%27%29%3B%0A%20%20%20%20%20%20for%20%28let%20j%20%3D%200%3B%20j%20%3C%20articles.length%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20article%20%3D%20articles%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20tweetLink%20%3D%20getTweetLink%28article%29%3B%0A%20%20%20%20%20%20%20%20%20%20tweetLinks.push%28tweetLink%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20tweetLinks%3B%0A%20%20%7D%0A%20%20%0A%20%20function%20isScrolledToBottom%28%29%20%7B%0A%20%20%20%20%20%20return%20%28document.body.offsetHeight%20%2B%20document.scrollingElement.scrollTop%20%3E%3D%20document.scrollingElement.scrollHeight%29%3B%0A%20%20%7D%0A%20%20%0A%20%20window.addEventListener%28%27load%27%2C%20%28_event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20addTweets%28getTweetLinks%28%29%29%3B%0A%20%20%20%20%20%20setButtonText%28tweets.length%2C%20%27%3F%27%29%3B%0A%20%20%7D%29%3B%0A%20%20%0A%20%20window.addEventListener%28%27scroll%27%2C%20%28_event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20addTweets%28getTweetLinks%28%29%29%3B%0A%20%20%20%20%20%20setButtonText%28tweets.length%2C%0A%20%20%20%20%20%20%20%20%20%20isScrolledToBottom%28%29%20%3F%20tweets.length%20%3A%27%3F%27%29%3B%0A%20%20%7D%29%3B%0A%20%20%0A%20%20addTweets%28getTweetLinks%28%29%29%3B%0A%20%20setButtonText%28tweets.length%2C%20%27%3F%27%29%3B%0A%20%20%7D%29%28%29%0A%20)

